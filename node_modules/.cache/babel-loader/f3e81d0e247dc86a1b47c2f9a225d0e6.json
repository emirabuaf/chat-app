{"ast":null,"code":"import _defineProperty from \"/Users/mac/Desktop/chat-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/mac/Desktop/chat-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Desktop/chat-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/Desktop/chat-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/Desktop/chat-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac/Desktop/chat-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Desktop/chat-app/src/containers/Signup.js\";\nimport React, { Component } from 'react';\nimport { Grid, Form, Segment, Button } from 'semantic-ui-react';\nimport firebase from 'firebase';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signup, _Component);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signup).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n      firebase.auth().createUserWithEmailAndPassword(_this.state.email, _this.state.password).then(function (newUser) {\n        console.log(newUser);\n        newUser.user.updateProfile({\n          displayName: _this.state.username\n        }).then(function () {\n          _this.saveUser(newUser).then(function () {\n            console.log(\"user saved\");\n          });\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.saveUser = function (newUser) {\n      return _this.userRef.child(newUser.user.uid).set({\n        name: newUser.user.displayName\n      });\n    };\n\n    _this.state = {\n      username: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      error: null\n    };\n    _this.userRef = firebase.database().ref('users');\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          email = _this$state.email,\n          passwordConfirmation = _this$state.passwordConfirmation;\n      var isInvalid = password !== passwordConfirmation || password === '' || email === '' || username === '';\n      return React.createElement(Grid, {\n        style: {\n          height: \"100vh\"\n        },\n        textAlign: \"center\",\n        verticalAlign: \"middle\",\n        className: \"signup-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        name: \"username\",\n        placeholder: \"username\",\n        value: username,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        name: \"email\",\n        placeholder: \"email\",\n        value: email,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        name: \"password\",\n        placeholder: \"password\",\n        value: password,\n        type: \"password\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        name: \"passwordConfirmation\",\n        placeholder: \"password confirmation\",\n        value: passwordConfirmation,\n        type: \"password\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: isInvalid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Sign Up\")))));\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nexport default Signup;","map":{"version":3,"sources":["/Users/mac/Desktop/chat-app/src/containers/Signup.js"],"names":["React","Component","Grid","Form","Segment","Button","firebase","Signup","props","onChange","event","setState","target","name","value","onSubmit","preventDefault","auth","createUserWithEmailAndPassword","state","email","password","then","newUser","console","log","user","updateProfile","displayName","username","saveUser","catch","err","userRef","child","uid","set","passwordConfirmation","error","database","ref","isInvalid","height","maxWidth"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Grid,Form,Segment,Button} from 'semantic-ui-react';\nimport firebase from 'firebase';\n\n\n\n\nclass Signup extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      error: null,\n    };\n    this.userRef = firebase.database().ref('users');\n  }\n\n\n  onChange = event => {\n    this.setState({[event.target.name]:event.target.value})\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n    firebase.auth().createUserWithEmailAndPassword(this.state.email,this.state.password)\n    .then(newUser => {\n      console.log(newUser);\n      newUser.user.updateProfile({\n        displayName:this.state.username\n      })\n      .then(() => {\n        this.saveUser(newUser).then(() => {\n          console.log(\"user saved\")\n        })\n      })\n    })\n\n    .catch(err => {\n      console.log(err)\n    })\n  }\n\n  saveUser = newUser => {\n    return this.userRef.child(newUser.user.uid).set({\n      name:newUser.user.displayName\n    })\n  }\n\n  render() {\n    const {username,password,email,passwordConfirmation} = this.state\n\n    const isInvalid = password !==passwordConfirmation ||\n    password === '' ||\n    email === '' ||\n    username ==='';\n\n    return (\n      <Grid style={{height:\"100vh\"}} textAlign=\"center\" verticalAlign=\"middle\" className=\"signup-form\">\n      <Grid.Column style={{maxWidth:450}}>\n        <Form size=\"large\" onSubmit={this.onSubmit}>\n          <Segment>\n            <Form.Input\n              name=\"username\"\n              placeholder=\"username\"\n              value={username}\n              onChange={this.onChange}/>\n              <Form.Input\n                name=\"email\"\n                placeholder=\"email\"\n                value={email}\n                onChange={this.onChange}/>\n              <Form.Input\n                name=\"password\"\n                placeholder=\"password\"\n                value={password}\n                type=\"password\"\n                onChange={this.onChange}/>\n              <Form.Input\n                name=\"passwordConfirmation\"\n                placeholder=\"password confirmation\"\n                value={passwordConfirmation}\n                type=\"password\"\n                onChange={this.onChange}/>\n              <Button disabled={isInvalid}>Sign Up</Button>\n          </Segment>\n        </Form>\n      </Grid.Column>\n    </Grid>\n    );\n  }\n}\n\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}